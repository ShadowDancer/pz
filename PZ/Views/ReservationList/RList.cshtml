@model PZ.Models.ReservationListViewModel
@{
    ViewBag.Title = "Rezerwacje";
}

@section Head{
	<script type="text/javascript">
		$(document).ready(function () {
			$(".editableDate").editable({
				format: 'yyyy-mm-dd',
				viewformat: 'dd/mm/yyyy',
				datepicker: {
					weekStart: 1
				},
				mode: "popup",
				placement: "bottom",
				url: function(params)
				{
					window.top.location.href = window.top.location.href.split("?")[0] + '?value=' + params.value;
				}
			});
		});
	</script>
}


<h2>Rezerwacje <a href="#" class="editableDate" data-name="date" data-type="date" data-title="Zmień datę">@Model.Date.Date.ToString("dd/MM/yyyy")</a></h2>




<div style="clear: both; margin: 10px; padding: 10px">
	<div style="height: 50px; width: 100px; float: left;"></div>

	@for(var j = 0; j < Model.Data[0].Length; j++)
		{
	<div style="height: 50px; width: 100px; background-color: #ff0000; float:left; text-align:center">@(j + Model.OpeningHour):00</div>
		}
</div>


@for(var i = 0; i < Model.Tables.Count; i++) {
var table = Model.Tables[i];
var reservations = Model.Data[i];


	<div style="clear: both; margin: 10px; padding: 10px">
		<div style="float: left; height: 50px; width: 100px; ">@i.ToString()<br />Miejsca: @table.Capacity</div>

		@for(var j = 0; j < Model.Data[i].Length; j++)
		{
			if (Model.Data[i][j] == 0)
			{
				<div style="height: 50px; width: 100px; background-color: #00ff00; float: left; border: solid;"></div>
			}
			else if (Model.Data[i][j] == 1)
			{
				<div style="height: 50px; width: 100px; background-color: #00ffff; float: left; border: solid;"></div>
			}
			else
			{
			<div style="height: 50px; width: 100px; background-color: #ff0000; float:left; border:solid; "></div>
			}
		}
	</div>
	<br />
}




